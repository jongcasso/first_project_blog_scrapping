<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta property="og:title" content="ì •íŒ€ì¥ì˜ ì¶”ì²œ ë§›ì§‘"/>
        <meta property="og:description" content="ë§›ì§‘ë¸”ë¡œê·¸ì˜ í¬ìŠ¤íŒ…ê³¼ ì¶”ì²œ ë§›ì§‘ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."/>
        <meta property="og:image" content="{{ url_for('static', filename='ogimage.png') }}"/>

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
              crossorigin="anonymous">

        <!-- JS -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
                integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
                crossorigin="anonymous"></script>

        <!-- êµ¬ê¸€í°íŠ¸ -->
        <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding:wght@700&display=swap"
              rel="stylesheet">


        <title>íŒŒì›Œë¸”ë¡œê·¸ì™€ ë‹¤ì´ë‹ì½”ë“œ ì¶”ì²œ ë§›ì§‘ ì°¾ê¸°</title>

        <style>
            * {
                font-family: 'Nanum Gothic Coding', monospace;
                color: #555555;
            }

            .wrap {
                width: 950px;
                margin: auto;
            }

            .card-deck {
                width: 800px;
                margin: auto;
                height: 100px;
            }

            .card-body {
                height: 220px;
            }

            .information-header {
                margin: 50px 0 50px 0;
                text-align: center;
            }

            .search-button {
                margin: 150px 100px 50px 100px;
                width: 550px;
            }

            .blog-button {
                margin: 150px 100px 40px 100px;
            }

            .card-body-size {
                width: 900px;
                margin: 0px 0px 0px 100px;
            }

            #blog-card-group {
                margin: auto;
            }

            #search-card-group {
                margin: auto;
            }

            /*.card-body {*/
            /*    margin-bottom: 15px;*/

        </style>

    </head>
    <body>
        <div class="wrap">
            <div class="information-header">
                <h1 class="display-4">ì •íŒ€ì¥ì˜ ë§›ì§‘ ì •ë³´ğŸ»</h1>
                <p class="lead">ì˜¤ëŠ˜ í•œë¼ëŠ” ì„±ê³µí•´ë³´ì!</p>
            </div>
            <div class="card-deck text-center">
                <div class="card matjip-list">
                    <div class="card-body">
                        <h2 class="card-title pricing-card-title"><small class="text-muted">ë§›ì§‘ ê²€ìƒ‰í•˜ê¸°</small></h2>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>ì–´ë””ê°ˆì§€</li>
                            <li>ê³ ë¯¼í•˜ì§€ë§ê³ </li>
                        </ul>
                        <button onclick="searchOpenClose()" type="button" id="matjip-search"
                                class="btn btn-lg btn-block btn-primary">ê²€ìƒ‰ì°½ì„ ì—´ì!
                        </button>
                    </div>
                </div>
                <div class="card blog-search">
                    <div class="card-body">
                        <h2 class="card-title pricing-card-title"><small class="text-muted">ë¸”ë¡œê·¸ ë³´ê¸°</small></h2>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>ê²€ì¦ëœ íŒŒì›Œë¸”ë¡œê±°ì˜</li>
                            <li>í¬ìŠ¤íŒ…ì„ ë³´ì</li>
                        </ul>
                        <button onclick="blogOpenClose()" type="button" class="btn btn-lg btn-block btn-primary"
                                id="blog-search">í¬ìŠ¤íŒ…ì„ ë³´ì!
                        </button>
                    </div>
                </div>
            </div>
            <div class="totalButton">
                <div class="search-button" id="matjipSearchBox">
                    <div class="input-group mb-3" id="search-box">
                        <input type="text" id="gu-name" class="form-control" aria-label="Default"
                               aria-describedby="inputGroup-sizing-default" placeholder="'êµ¬'ë¥¼ ì…ë ¥í•˜ì„¸ìš”!">
                        <div class="input-group-prepend">
                            <button onclick="find_my_best_place()" class="btn btn-primary"
                                    type="submit">ë§›ì§‘ ê²€ìƒ‰í•˜ê¸°
                            </button>
                        </div>
                    </div>
                </div>
                <div class="blog-button" id="blogSearchBox">
                    <button onclick="showBlogPost1()" type="button" class="btn btn-secondary">ë¹„ë°€ì´ì•¼</button>
                    <button onclick="showBlogPost2()" type="button" class="btn btn-secondary">ë¹„í„°íŒ¬ì˜ ì‹ë„ë½</button>
                    <button onclick="showBlogPost3()" type="button" class="btn btn-secondary">ë¯¸ëˆ„ ë¶€ì‚°ë§›ì§‘</button>
                    <button onclick="showBlogPost4()" type="button" class="btn btn-secondary">í–‰ë³µë¼ë‹ˆ</button>
                </div>
            </div>
            <div class="card-columns card-body-size" id="blog-card-group">
                <!--                    <div class="card" id="blog-card-select">-->
                <!--                        <div class="card-body">-->
                <!--                            <a href="http://www.naver.com" class="card-title">[ì„œë©´]ì†Œì„¤ë‹´ ê¼¬ì¹˜êµ¬ì´ ì¡´ë§›íƒ±</a>-->
                <!--                            <p class="card-text">ë¸”ë¡œê·¸ ë‚´ìš© 3~4ì¤„ ì •ë„</p>-->
            </div>
            <div class="card-columns card-body-size" id="search-card-group">
                <!--                <div class="card" id="search-card-select matjip-box">-->
                <!--                    <div class="card-body">-->
                <!--                        <a href="https://map.naver.com/v5/search/ì„œìš¸ ë§ˆí¬êµ¬ ë™êµë¡œ 276" class="card-title"><h5>2.ê·œìì¹´ì•¼ ëª¨í† -->
                <!--                        </a></h5>-->
                <!--                        ì´ìì¹´ì•¼, ì‹¬ì•¼ì‹ë‹¹-->
                <!--                        <p class="card-text">ìƒìƒì •ë³´í†µ, ë§›ìˆëŠ”ì•ˆì£¼</p>-->
                <!--                        ì—°ë‚¨ë™-->
                <!--                        <p class="card-text">ì„œìš¸íŠ¹ë³„ì‹œ ë§ˆí¬êµ¬ ì—°ë‚¨ë™ 224-26 2ì¸µ</p>-->
                <!--                    </div>-->
            </div>
        </div>

        <script>
            $(document).ready(function () {
                $('#matjipSearchBox').hide();
                $('#blogSearchBox').hide();
                $('#blog-card-group').hide();
                $('#search-card-group').hide();
            });

            function searchOpenClose() {
                if ($('#matjipSearchBox').css('display') == 'block') {
                    $('#matjipSearchBox').hide();
                    $('#blog-card-group').hide();
                    $('#search-card-group').hide();
                    $('#matjip-search').text('ê²€ìƒ‰ì°½ì„ ì—´ì!');
                } else {
                    $('#matjipSearchBox').show();
                    $('#matjip-search').text('ê²€ìƒ‰ì°½ ë‹«ê¸°');
                    $('#blog-card-group').hide();
                    if ($('#blogSearchBox').show()) {
                        $('#blogSearchBox').hide();
                        $('#blog-search').text('ë¸”ë¡œê·¸ë¥¼ ë³´ì!')

                    }
                }
            }

            function blogOpenClose() {
                if ($('#blogSearchBox').css('display') == 'block') {
                    $('#blogSearchBox').hide();
                    $('#blog-search').text('ë¸”ë¡œê·¸ë¥¼ ë³´ì!');
                    $('#blog-card-group').hide();
                    $('#blog-card-group').empty();
                } else {
                    $('#blogSearchBox').show();
                    $('#blog-search').text('ë¸”ë¡œê·¸ ë‹«ê¸°');
                    $('#blog-card-group').show();
                    $('#search-card-group').hide();
                    if ($('#matjipSearchBox').show()) {
                        $('#matjipSearchBox').hide();
                        $('#matjip-search').text('ê²€ìƒ‰ì°½ì„ ì—´ì!')
                        $('#blog-card-group').empty();
                    }
                }
            }

            let seoulGu = ["ì¢…ë¡œêµ¬", "ì¤‘êµ¬", "ìš©ì‚°êµ¬", "ì„±ë™êµ¬", "ê´‘ì§„êµ¬", "ë™ëŒ€ë¬¸êµ¬", "ì¤‘ë‘êµ¬", "ì„±ë¶êµ¬", "ê°•ë¶êµ¬", "ë„ë´‰êµ¬", "ë…¸ì›êµ¬", "ì€í‰êµ¬", "ì„œëŒ€ë¬¸êµ¬", "ë§ˆí¬êµ¬", "ì–‘ì²œêµ¬", "ê°•ì„œêµ¬", "êµ¬ë¡œêµ¬", "ê¸ˆì²œêµ¬", "ì˜ë“±í¬êµ¬", "ë™ì‘êµ¬", "ê´€ì•…êµ¬", "ì„œì´ˆêµ¬", "ê°•ë‚¨êµ¬", "ì†¡íŒŒêµ¬", "ê°•ë™êµ¬", "ê¸°í¥êµ¬", "ìˆ˜ì§€êµ¬", "ì²˜ì¸êµ¬", "ë¶„ë‹¹êµ¬", "ìˆ˜ì •êµ¬", "ì¤‘ì›êµ¬"];

            function isValidGuName(guName) {
                for (let i = 0; i < seoulGu.length; i++) {
                    if (guName == seoulGu[i]) {
                        return true;
                    }
                }
                return false;
            }

            function find_my_best_place() {
                let guName = $('#gu-name').val();
                if (guName == '') {
                    alert('êµ¬ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”');
                    return;
                }
                if (isValidGuName(guName) == false) {
                    alert('ì˜¬ë°”ë¥¸ êµ¬ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”');
                    return;
                }
                $.ajax({
                    type: "GET",
                    url: `/matjip?gu_give=${guName}`,
                    data: {},
                    success: function (response) {
                        $('#search-card-group').empty();
                        $('#search-card-group').show();
                        // console.log(response)
                        let matjipList = response["matjip_list"];
                        for (let i = 0; i < 50; i++) {
                            // console.log(matjipList[i])
                            let matjip = matjipList[i];
                            let Name = matjip["name"];
                            let Tag = matjip["tag"];
                            let Addr = matjip["addr"];
                            let Type = matjip["type"];
                            let Local = matjip["local"];
                            let Gu = matjip["gu"];
                            let temp_html = `<div class="card" id="search-card-select matjip-box">
                    <div class="card-body">
                    <a href="https://map.naver.com/v5/search/${Addr}" class="card-title"><h5>${Name}
                    </a></h5>
                    ${Type}
                    <p class="card-text">${Tag}</p>
                    ${Local}
                    <p class="card-text">${Addr}</p>
                    </div>
                </div>`;

                            $('#search-card-group').append(temp_html);
                        }
                    }
                })
            }

            function showBlogPost1() {
                $.ajax({
                    type: "GET",
                    url: "/blogpost1",
                    data: {},
                    success: function (response) {
                        $('#blog-card-group').empty();
                        // console.log(response)
                        let articles = response["articles"];
                        // console.log(articles)
                        for (let i = 0; i < 36; i++) {
                            makeCard1(articles[i]["url"], articles[i]["title"], articles[i]["desc"].substring(0, 60))
                        }
                    }
                })
            }

            function makeCard1(url, title, desc) {
                let temp_html1 = `<div class="card" id="blog-card-select">
                        <div class="card-body">
                        <a href="${url}" class="card-title">${title}</a>
                        <p class="card-text">${desc}</p>
                        </div>
                        </div>`;

                $('#blog-card-group').append(temp_html1);
            }

            function showBlogPost2() {
                $.ajax({
                    type: "GET",
                    url: "/blogpost2",
                    data: {},
                    success: function (response) {
                        $('#blog-card-group').empty();
                        // console.log(response)
                        let articles2 = response["articles"];
                        // console.log(articles)
                        for (let i = 0; i < 36; i++) {
                            makeCard2(articles2[i]["url"], articles2[i]["title"], articles2[i]["desc"].substring(0, 60))
                        }
                    }
                })
            }

            function makeCard2(url, title, desc) {
                let temp_html2 = `<div class="card" id="blog-card-select">
                        <div class="card-body">

                            <a href="${url}" class="card-title">${title}</a>

                        <p class="card-text">${desc}</p>
                        </div>
                        </div>`;

                $('#blog-card-group').append(temp_html2);
            }

            function showBlogPost3() {
                $.ajax({
                    type: "GET",
                    url: "/blogpost3",
                    data: {},
                    success: function (response) {
                        $('#blog-card-group').empty();
                        // console.log(response)
                        let articles3 = response["articles"];
                        // console.log(articles)
                        for (let i = 0; i < 36; i++) {
                            makeCard3(articles3[i]["url"], articles3[i]["title"], articles3[i]["desc"].substring(0, 60))
                        }
                    }
                })
            }

            function makeCard3(url, title, desc) {
                let temp_html3 = `<div class="card" id="blog-card-select">
                        <div class="card-body">

                            <a href="${url}" class="card-title">${title}</a>

                        <p class="card-text">${desc}</p>
                        </div>
                        </div>`;

                $('#blog-card-group').append(temp_html3);
            }


            function showBlogPost4() {
                $.ajax({
                    type: "GET",
                    url: "/blogpost4",
                    data: {},
                    success: function (response) {
                        $('#blog-card-group').empty();
                        // console.log(response)
                        let articles4 = response["articles"];
                        // console.log(articles)
                        for (let i = 0; i < 36; i++) {
                            makeCard4(articles4[i]["url"], articles4[i]["title"], articles4[i]["desc"].substring(0, 60))
                        }
                    }
                })
            }

            function makeCard4(url, title, desc) {
                let temp_html4 = `<div class="card" id="blog-card-select">
                        <div class="card-body">

                            <a href="${url}" class="card-title">${title}</a>

                        <p class="card-text">${desc}</p>
                        </div>
                        </div>`;

                $('#blog-card-group').append(temp_html4);
            }


        </script>
    </body>
</html>